import{b as o,D as C,w as R,j as e}from"./index-DyLGrSyB.js";import{A as k}from"./index-Cby3Vsui.js";import{m as j}from"./proxy-64l16BJs.js";import"./musicStore-B6zp5s-e.js";function I({title:r,titleId:a,...t},s){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const E=o.forwardRef(I);function M({title:r,titleId:a,...t},s){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const O=o.forwardRef(M);function H({title:r,titleId:a,...t},s){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const F=o.forwardRef(H);function $({title:r,titleId:a,...t},s){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const A=o.forwardRef($);function P({title:r,titleId:a,...t},s){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const _=o.forwardRef(P);function B({title:r,titleId:a,...t},s){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const W=o.forwardRef(B);function T(r,a){let t;try{t=r()}catch{return}return{getItem:c=>{var l;const m=u=>u===null?null:JSON.parse(u,void 0),h=(l=t.getItem(c))!=null?l:null;return h instanceof Promise?h.then(m):m(h)},setItem:(c,l)=>t.setItem(c,JSON.stringify(l,void 0)),removeItem:c=>t.removeItem(c)}}const S=r=>a=>{try{const t=r(a);return t instanceof Promise?t:{then(s){return S(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return S(s)(t)}}}},D=(r,a)=>(t,s,c)=>{let l={storage:T(()=>localStorage),partialize:i=>i,version:0,merge:(i,p)=>({...p,...i}),...a},m=!1;const h=new Set,u=new Set;let d=l.storage;if(!d)return r((...i)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...i)},s,c);const b=()=>{const i=l.partialize({...s()});return d.setItem(l.name,{state:i,version:l.version})},v=c.setState;c.setState=(i,p)=>(v(i,p),b());const f=r((...i)=>(t(...i),b()),s,c);c.getInitialState=()=>f;let g;const y=()=>{var i,p;if(!d)return;m=!1,h.forEach(n=>{var x;return n((x=s())!=null?x:f)});const w=((p=l.onRehydrateStorage)==null?void 0:p.call(l,(i=s())!=null?i:f))||void 0;return S(d.getItem.bind(d))(l.name).then(n=>{if(n)if(typeof n.version=="number"&&n.version!==l.version){if(l.migrate){const x=l.migrate(n.state,n.version);return x instanceof Promise?x.then(N=>[!0,N]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,n.state];return[!1,void 0]}).then(n=>{var x;const[N,L]=n;if(g=l.merge(L,(x=s())!=null?x:f),t(g,!0),N)return b()}).then(()=>{w==null||w(g,void 0),g=s(),m=!0,u.forEach(n=>n(g))}).catch(n=>{w==null||w(void 0,n)})};return c.persist={setOptions:i=>{l={...l,...i},i.storage&&(d=i.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>y(),hasHydrated:()=>m,onHydrate:i=>(h.add(i),()=>{h.delete(i)}),onFinishHydration:i=>(u.add(i),()=>{u.delete(i)})},l.skipHydration||y(),g||f},G=D,q=C()(G(r=>({shortcuts:[{id:"1",title:"Widget 1",url:"/widget/1",color:"bg-indigo-600"},{id:"2",title:"Nextcloud",url:"http://192.168.3.1:6699/apps/dashboard/",color:"bg-blue-600"}],addShortcut:a=>r(t=>({shortcuts:[...t.shortcuts,{...a,id:Math.random().toString(36).substr(2,9)}]})),updateShortcut:(a,t)=>r(s=>({shortcuts:s.shortcuts.map(c=>c.id===a?{...c,...t}:c)})),removeShortcut:a=>r(t=>({shortcuts:t.shortcuts.filter(s=>s.id!==a)})),fetchShortcuts:()=>{R.get("/backend/widget/shortcut").then(a=>{r(t=>({...t,shortcuts:a.data}))})}}),{name:"shortcut-storage"})),J=({children:r})=>e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 p-4",children:r}),Z=({id:r,title:a,url:t,imageUrl:s,color:c="bg-indigo-600",onRemove:l,onEdit:m})=>{const[h,u]=o.useState(!1);return e.jsxs(j.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{y:-5,boxShadow:"0px 10px 20px rgba(0,0,0,0.1)"},className:`relative rounded-2xl overflow-hidden shadow-md aspect-square flex flex-col group ${c}`,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center justify-center p-4 text-center h-full w-full",children:[s?e.jsx("img",{src:s,alt:a,className:"w-16 h-16 object-contain mb-4 filter drop-shadow-lg"}):e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4 backdrop-blur-sm",children:e.jsx(E,{className:"w-8 h-8 text-white"})}),e.jsx("span",{className:"text-white font-bold text-lg tracking-wide drop-shadow-md",children:a})]}),e.jsx(k,{children:h&&e.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 z-10",children:[e.jsx(j.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:d=>{d.preventDefault(),m({id:r,title:a,url:t,imageUrl:s,color:c})},className:"p-2 bg-white/20 text-white rounded-full hover:bg-white/30 shadow-lg backdrop-blur-sm transition-colors",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx(j.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:d=>{d.preventDefault(),l(r)},className:"p-2 bg-red-500/90 text-white rounded-full hover:bg-red-600 shadow-lg backdrop-blur-sm transition-colors",children:e.jsx(_,{className:"w-4 h-4"})})]})})]})},U=({onClick:r})=>e.jsxs(j.button,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.02,backgroundColor:"rgba(243, 244, 246, 0.8)"},whileTap:{scale:.98},onClick:r,className:"aspect-square rounded-2xl border-3 border-dashed border-slate-300 flex flex-col items-center justify-center bg-slate-50 text-slate-400 hover:text-indigo-500 hover:border-indigo-400 hover:bg-slate-100 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 group-hover:bg-indigo-100 flex items-center justify-center mb-3 transition-colors",children:e.jsx(F,{className:"w-8 h-8 text-slate-400 group-hover:text-indigo-600 transition-colors"})}),e.jsx("span",{className:"font-semibold transition-colors",children:"Add Shortcut"})]});function z(){const{shortcuts:r,addShortcut:a,updateShortcut:t,removeShortcut:s}=q(),[c,l]=o.useState(!1),[m,h]=o.useState(null),[u,d]=o.useState(""),[b,v]=o.useState(""),[f,g]=o.useState("bg-indigo-600"),y=n=>{n?(h(n.id),d(n.title),v(n.url),g(n.color||"bg-indigo-600")):(h(null),d(""),v(""),g("bg-indigo-600")),l(!0)},i=n=>{n.preventDefault(),u&&b&&(m?t(m,{title:u,url:b,color:f}):a({title:u,url:b,color:f}),p())},p=()=>{l(!1),h(null),d(""),v(""),g("bg-indigo-600")},w=[{name:"Indigo",value:"bg-indigo-600"},{name:"Blue",value:"bg-blue-600"},{name:"Purple",value:"bg-purple-600"},{name:"Pink",value:"bg-pink-600"},{name:"Green",value:"bg-emerald-600"},{name:"Orange",value:"bg-orange-600"},{name:"Red",value:"bg-rose-600"},{name:"Slate",value:"bg-slate-700"}];return e.jsxs("div",{className:"w-full",children:[e.jsx(J,{children:e.jsxs(k,{mode:"popLayout",children:[r.map(n=>e.jsx(Z,{...n,onRemove:s,onEdit:y},n.id)),e.jsx(U,{onClick:()=>y()},"add-button")]})}),e.jsx(k,{children:c&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:p}),e.jsxs(j.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden z-10",children:[e.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-100 bg-slate-50/50",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:m?"Edit Shortcut":"Add New Shortcut"}),e.jsx("button",{onClick:p,className:"p-2 rounded-full hover:bg-slate-200 text-slate-500 transition-colors",children:e.jsx(W,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:i,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Title"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{type:"text",value:u,onChange:n=>d(n.target.value),placeholder:"e.g. Google Drive",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all text-slate-800",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"URL"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(E,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{type:"url",value:b,onChange:n=>v(n.target.value),placeholder:"https://...",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all text-slate-800",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Card Color"}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:w.map(n=>e.jsx("button",{type:"button",onClick:()=>g(n.value),className:`h-10 rounded-lg shadow-sm transition-all ${n.value} ${f===n.value?"ring-2 ring-offset-2 ring-indigo-500 scale-105":"hover:scale-105 opacity-80 hover:opacity-100"}`,"aria-label":n.name},n.value))})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:p,className:"flex-1 px-4 py-3 font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:-translate-y-0.5",children:m?"Update Shortcut":"Create Shortcut"})]})]})]})]})})]})}function V(){return e.jsx("div",{className:"bg-white min-h-screen p-8",children:e.jsx(z,{})})}export{V as default};
