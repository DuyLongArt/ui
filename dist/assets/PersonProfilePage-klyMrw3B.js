import{b as t,v as S,j as e,E as z,F as W,w as D,G as u,H as re,A as le,I as $}from"./index-DyLGrSyB.js";import{A as H}from"./index-Cby3Vsui.js";import{m as E}from"./proxy-64l16BJs.js";import{u as oe}from"./objectImageStore-CuoSUh8t.js";import{r as m}from"./index-B8aiZLAZ.js";import{G as b}from"./GlassContainer-Daj1BBI-.js";import{F as ne}from"./XMarkIcon-CYFvVKEB.js";import{E as ie}from"./eye-BcwSEK6t.js";import{A as de}from"./activity-CAie-3TQ.js";import{c as G}from"./createLucideIcon-hrZBMhDZ.js";import"./index-CsHQAqIx.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],me=G("trending-up",ce);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xe=G("users",ue);function he({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const fe=t.forwardRef(he);function pe({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const ge=t.forwardRef(pe);function be({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"}))}const ve=t.forwardRef(be);function we({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const je=t.forwardRef(we);function ye({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Ne=t.forwardRef(ye);function Ee({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const B=t.forwardRef(Ee);function ke({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Ce=t.forwardRef(ke);function Le({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Re=t.forwardRef(Le);function Ae({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm5.03 4.72a.75.75 0 0 1 0 1.06l-1.72 1.72h10.94a.75.75 0 0 1 0 1.5H10.81l1.72 1.72a.75.75 0 1 1-1.06 1.06l-3-3a.75.75 0 0 1 0-1.06l3-3a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Me=t.forwardRef(Ae);function Se({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{d:"M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z"}),t.createElement("path",{fillRule:"evenodd",d:"M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 0 0 1.11-.71l.822-1.315a2.942 2.942 0 0 1 2.332-1.39ZM6.75 12.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Zm12-1.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const Z=t.forwardRef(Se);function Ue({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Te=t.forwardRef(Ue);function Pe({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),t.createElement("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"}))}const De=t.forwardRef(Pe);function Fe({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))}const Ie=t.forwardRef(Fe);function Oe({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{fillRule:"evenodd",d:"M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z",clipRule:"evenodd"}))}const Ve=t.forwardRef(Oe);function $e({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Be=t.forwardRef($e);function Ze({title:a,titleId:s,...r},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const _=t.forwardRef(Ze),_e=({onUpload:a,progress:s=0,isUploading:r=!1,error:l=null,acceptedFileTypes:v="image/*",maxSizeInMB:k=30,nameFromInput:d="",mode:R=""})=>{const w=t.useRef(null),[j,f]=t.useState(!1),[x,y]=t.useState(null),[C,N]=t.useState(null),c=S(o=>o.information.profiles.alias),g=o=>{o.preventDefault(),o.stopPropagation(),o.type==="dragenter"||o.type==="dragover"?f(!0):o.type==="dragleave"&&f(!1)},p=o=>o.size>k*1024*1024?(N(`File size exceeds ${k}MB limit.`),!1):v!=="*"&&!o.type.match(v.replace("*",".*"))?(N("File type not accepted."),!1):(N(null),!0),A=o=>{if(o.preventDefault(),o.stopPropagation(),f(!1),o.dataTransfer.files&&o.dataTransfer.files[0]){const h=o.dataTransfer.files[0];p(h)&&y(h)}},U=o=>{if(o.preventDefault(),o.target.files&&o.target.files[0]){const h=o.target.files[0];p(h)&&y(h)}},M=o=>{if(o===""&&(o=c+"/"+R),x){const h=new File([x],o+".png",{type:x.type}),i=a(h);console.log(i),i&&typeof i.then=="function"&&i.then(()=>{console.log("Upload success (Promise resolved)")})}},T=()=>{y(null),N(null),w.current&&(w.current.value="")};return e.jsxs("div",{className:"w-full max-w-md mx-auto p-6 bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload File"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Attach your documents or images here"})]}),e.jsxs("div",{className:`relative flex flex-col items-center justify-center w-full h-48 border-2 border-dashed rounded-lg transition-colors duration-200 ease-in-out cursor-pointer overflow-hidden
                    ${j?"border-indigo-500 bg-indigo-50":"border-gray-300 bg-gray-50 hover:bg-gray-100"}
                    ${C||l?"border-red-300 bg-red-50":""}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:A,onClick:()=>{var o;return!r&&((o=w.current)==null?void 0:o.click())},children:[e.jsx("input",{ref:w,className:"hidden",type:"file",accept:v,onChange:U,disabled:r}),e.jsx(H,{mode:"wait",children:x?e.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex flex-col items-center justify-center p-4 text-center w-full h-full z-10",children:[e.jsx("div",{className:"w-12 h-12 mb-3 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[90%]",children:x.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(x.size/1024/1024).toFixed(2)," MB"]})]},"file-preview"):e.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex flex-col items-center justify-center p-4 text-center",children:[e.jsx("svg",{className:`w-10 h-10 mb-3 ${j?"text-indigo-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["SVG, PNG, JPG or PDF (MAX. ",k,"MB)"]})]},"empty-state")}),r&&e.jsx(E.div,{className:"absolute inset-0 bg-white/80 flex items-center justify-center z-20",initial:{opacity:0},animate:{opacity:1},children:e.jsxs("div",{className:"w-full max-w-[80%]",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-indigo-700",children:"Uploading..."}),e.jsxs("span",{className:"text-xs font-medium text-indigo-700",children:[Math.round(s),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${s}%`}})})]})})]}),(C||l)&&e.jsxs(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),C||l]}),e.jsxs("div",{className:"mt-4 flex gap-3 justify-end",children:[e.jsx("button",{onClick:T,disabled:r||!x,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>M(d),disabled:r||!x,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:r?"Uploading...":"Submit!"})]})]})},ze=z({actors:{updateImageUrl:W(async({input:{file:a}})=>{const s=new FormData;return s.append("file",a),(await D.post("/backend/object/add",s)).data})}}).createMachine({id:"editAdminProfile",initial:"idle",context:{file:null,progress:0,uploadedUrl:null,error:null},states:{idle:{on:{FILE_SELECTED:{actions:u({file:({event:a})=>a.file,error:null,progress:0}),target:"readyToUpload"}}},readyToUpload:{on:{UPLOAD_STARTED:{target:"uploading"},FILE_SELECTED:{actions:u({file:({event:a})=>a.file,error:null})},RESET:{target:"idle",actions:u({file:null,error:null,progress:0})}}},uploading:{invoke:{id:"uploadService",src:"updateImageUrl",input:({context:a})=>({file:a.file}),onDone:{target:"success",actions:u({progress:100})},onError:{target:"failure",actions:u({error:({event:a})=>a.error.message||"Upload failed"})}},on:{UPLOAD_CANCELLED:{target:"idle",actions:u({file:null,progress:0})}}},success:{on:{RESET:{target:"idle",actions:u({file:null,progress:0,uploadedUrl:null,error:null})},FILE_SELECTED:{target:"readyToUpload",actions:u({file:({event:a})=>a.file,error:null,progress:0,uploadedUrl:null})}}},failure:{on:{UPLOAD_STARTED:{target:"uploading",actions:u({error:null})},FILE_SELECTED:{target:"readyToUpload",actions:u({file:({event:a})=>a.file,error:null,progress:0})},RESET:{target:"idle",actions:u({file:null,error:null})}}}}}),We=z({actors:{postEditAdminInformation:W(async({input:a})=>{console.log(a);const s=re.get("auth_jwt");return(await D.post(`http://192.168.22.4:8686/backend/information/edit?location=${a.location}&university=${a.university}`,{headers:{Authorization:`Bearer ${s}`}})).data})}}).createMachine({id:"editAdminInformationMachine",initial:"onInit",context:{location:"",university:""},states:{onInit:{on:{EDIT:{target:"onEdit"}}},onEdit:{on:{TYPE:{target:"onType"}}},onType:{on:{SAVE:{actions:[u({location:({event:a})=>a.location,university:({event:a})=>a.university})],target:"onSave"}}},onDone:{on:{target:"onInit"}},onError:{on:{target:"onInit"}},onSave:{invoke:{src:"postEditAdminInformation",input:({context:a})=>({location:a.location,university:a.university}),onDone:{target:"onDone"},onError:{target:"onError"}},on:{onDone:{target:"onDone"},onError:{target:"onError"}}}}}),rt=()=>{const[a,s]=t.useState("Posts"),[r,l]=t.useState({name:"",email:"",message:""}),v=n=>{l({...r,[n.target.name]:n.target.value})},k=n=>{n.preventDefault(),console.log("Form data submitted:",r),alert("Thank you for your message!")},d=S(n=>n.information),R=S(n=>n.updateProfileImageUrl),[w,j]=t.useState(!1),[f,x]=t.useState(""),[y,C]=t.useState(""),N=le.useActorRef(),[c,g]=$(ze),p=oe(),[A,U]=t.useState(""),[M,T]=t.useState(""),[o,h]=$(We),i={placeholder:void 0,onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,onResize:void 0,onResizeCapture:void 0},q=[{label:"Profile Views",value:"2.4k",icon:e.jsx(ie,{size:20}),color:"bg-blue-500",trend:"+12%"},{label:"Projects",value:"42",icon:e.jsx(de,{size:20}),color:"bg-purple-500",trend:"+5%"},{label:"Followers",value:"847",icon:e.jsx(xe,{size:20}),color:"bg-pink-500",trend:"+18%"},{label:"Engagement",value:"95%",icon:e.jsx(me,{size:20}),color:"bg-green-500",trend:"+2%"}];t.useEffect(()=>{S.getState().fetchFromDatabase(),c.matches("success")&&(f==="admin"&&p.incrementAvatarVersion(),f==="cover"&&p.incrementCoverVersion())},[c.value]);const Y=`/object/duylongwebappobjectdatabase/${d.profiles.alias}/admin.png?v=${p.versions.avatarVersion}`,J=`/object/duylongwebappobjectdatabase/${d.profiles.alias}/cover.png?v=${p.versions.coverVersion}`,[X,K]=t.useState(""),[Q,ee]=t.useState("");t.useEffect(()=>{let n="",L="";const F=async(I,O)=>{if(d.profiles.alias)try{const P=await D.get(I,{responseType:"blob"}),V=URL.createObjectURL(P.data);return O(V),V}catch(P){console.error("Lá»—i táº£i áº£nh qua Proxy:",P),O(I)}};return(async()=>{n=await F(Y,K)||"",L=await F(J,ee)||""})(),()=>{n&&URL.revokeObjectURL(n),L&&URL.revokeObjectURL(L)}},[d.profiles.alias,p.versions.avatarVersion,p.versions.coverVersion]);const te=n=>{g({type:"FILE_SELECTED",file:n,name:"profileImage"}),g({type:"UPLOAD_STARTED"})},ae=()=>{j(!1),g({type:"RESET"})},se=()=>{console.log("ðŸ‘‹ Initiating logout..."),N.send({type:"LOGOUT"})};return t.useEffect(()=>{c.matches("success")&&c.context.uploadedUrl&&(R(c.context.uploadedUrl),console.log("ðŸ”„ Updated store with new profile image URL:",c.context.uploadedUrl))},[c.matches("success"),c.context.uploadedUrl,R]),e.jsxs("div",{className:"bg-white min-h-screen pb-20 animate-fade-in-up",children:[e.jsxs(b,{className:"max-w-5xl mx-auto shadow-xl overflow-hidden mb-6",children:[e.jsxs("div",{className:"relative h-[250px] md:h-[350px] bg-gray-200",children:[e.jsx("img",{src:Q,alt:"Cover",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-transparent to-transparent"}),e.jsxs("button",{className:"absolute bottom-4 right-4 bg-white/20 backdrop-blur-md border border-white/40 text-white font-bold py-2 px-4 rounded-xl flex items-center hover:bg-white/30 transition-all shadow-lg text-sm",onClick:()=>{x("cover"),j(!0)},children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Edit Cover"]})]}),e.jsxs("div",{className:"relative px-8 pb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-end -mt-[70px] mb-6",children:[e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{x("admin"),j(!0)},children:[e.jsxs("div",{className:"w-[140px] h-[140px] md:w-[180px] md:h-[180px] rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white ring-4 ring-white/50",children:[e.jsx("img",{src:X,alt:"Profile",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity duration-300",children:e.jsx(Z,{className:"w-8 h-8 text-white"})})]}),e.jsx("div",{className:"absolute bottom-5 right-5 h-5 w-5 bg-green-500 rounded-full border-4 border-white shadow-md"})]}),e.jsxs("div",{className:"mt-4 md:mt-0 md:ml-6 flex-1 text-center md:text-left",children:[e.jsxs(m.Typography,{variant:"h2",className:"text-3xl font-extrabold text-slate-800",...i,children:[d.profiles.firstName," ",d.profiles.lastName]}),e.jsxs(m.Typography,{className:"text-slate-500 font-medium mb-3",...i,children:[d.profiles.friends.toLocaleString()," friends â€¢ ",d.profiles.mutual," mutual"]}),e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mb-4 md:mb-0",children:[e.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 text-xs font-bold rounded-full border border-indigo-200 shadow-sm",children:"SUPER ADMIN"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full border border-green-200 shadow-sm",children:"ACTIVE"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 md:mt-0 w-full md:w-auto",children:[e.jsxs("button",{onClick:se,className:"flex-1 md:flex-none flex items-center justify-center bg-white border border-red-200 text-red-600 hover:bg-red-50 font-bold py-2.5 px-5 rounded-xl transition-all shadow-sm text-sm",children:[e.jsx(Me,{className:"h-4 w-4 mr-2"})," Logout"]}),e.jsxs("button",{className:"flex-1 md:flex-none flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2.5 px-5 rounded-xl transition-all shadow-lg shadow-indigo-200 text-sm",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"})," Add Story"]}),e.jsxs("button",{onClick:()=>{h({type:"EDIT"}),o.value==="onEdit"&&h({type:"TYPE"}),o.value==="onType"&&h({type:"SAVE",location:A,university:M})},className:"flex-1 md:flex-none flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-2.5 px-5 rounded-xl transition-all shadow-sm text-sm",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"})," Edit"]})]})]}),d.details.bio&&e.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 text-slate-600 text-center md:text-left text-sm italic",children:['"',d.details.bio,'"']})]}),e.jsx("div",{className:"flex px-8 border-t border-slate-100",children:["Posts","About","Photos","Security","Contact"].map(n=>e.jsx("button",{onClick:()=>s(n),className:`px-6 py-4 font-bold text-sm transition-all border-b-2 ${a===n?"text-indigo-600 border-indigo-600 bg-indigo-50/50":"text-slate-500 border-transparent hover:bg-slate-50 hover:text-slate-700"}`,children:n},n))})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 md:px-0 flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"w-full md:w-[350px] space-y-6",children:[e.jsxs(b,{className:"p-6",children:[e.jsx(m.Typography,{variant:"h5",className:"font-bold text-slate-800 mb-4",...i,children:"Intro"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-slate-600",children:[e.jsx(fe,{className:"h-5 w-5 text-slate-400 mr-3"}),o.value!=="onEdit"&&o.value!=="onType"?e.jsxs("span",{children:["Studied at ",e.jsx("strong",{className:"text-slate-800",children:d.details.university})]}):e.jsx("input",{type:"text",className:"border rounded p-1 w-full text-sm",value:M,onChange:n=>T(n.target.value)})]}),e.jsxs("div",{className:"flex items-center text-slate-600",children:[e.jsx(B,{className:"h-5 w-5 text-slate-400 mr-3"}),o.value!=="onEdit"&&o.value!=="onType"?e.jsxs("span",{children:["Lives in ",e.jsx("strong",{className:"text-slate-800",children:d.details.country})]}):e.jsx("input",{type:"text",className:"border rounded p-1 w-full text-sm",value:A,onChange:n=>U(n.target.value)})]}),e.jsxs("div",{className:"flex items-center text-slate-600",children:[e.jsx(je,{className:"h-5 w-5 text-slate-400 mr-3"}),e.jsx("span",{className:"text-xs font-mono bg-slate-100 px-2 py-1 rounded",children:"Reg IP: 192.168.22.4"})]})]}),e.jsx("button",{className:"w-full mt-6 bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-2 rounded-xl transition-colors text-sm",children:"Edit Public Details"})]}),e.jsxs(b,{className:"p-6 bg-indigo-50/50 border-indigo-100",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(_,{className:"h-5 w-5 text-indigo-600 mr-2"}),e.jsx(m.Typography,{variant:"h6",className:"font-bold text-indigo-900",...i,children:"Admin Control"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"w-full text-left p-2.5 rounded-lg bg-white border border-indigo-100 hover:shadow-md text-indigo-800 text-sm font-semibold transition-all",children:"View System Logs"}),e.jsx("button",{className:"w-full text-left p-2.5 rounded-lg bg-white border border-indigo-100 hover:shadow-md text-indigo-800 text-sm font-semibold transition-all",children:"Manage User Permissions"})]})]})]}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:q.map((n,L)=>e.jsxs(b,{className:"p-4 hover:-translate-y-1 transition-transform duration-300",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white mb-2 shadow-md ${n.color}`,children:n.icon}),e.jsxs("div",{children:[e.jsx(m.Typography,{className:"text-slate-500 text-xs font-bold uppercase tracking-wider",...i,children:n.label}),e.jsxs("div",{className:"flex items-end gap-1",children:[e.jsx(m.Typography,{variant:"h5",className:"text-slate-800 font-bold leading-none",...i,children:n.value}),e.jsx("span",{className:"text-green-500 text-[10px] font-bold bg-green-50 px-1 rounded",children:n.trend})]})]})]},L))}),a==="Security"&&e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-full mr-4",children:e.jsx(_,{className:"h-6 w-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx(m.Typography,{variant:"h5",className:"font-bold text-slate-800",...i,children:"Security Center"}),e.jsx(m.Typography,{className:"text-slate-500 text-sm",...i,children:"Manage your account security and authentication methods."})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 border border-slate-200 rounded-xl bg-slate-50/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Two-Factor Authentication"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded",children:"ENABLED"})]}),e.jsx("p",{className:"text-sm text-slate-500",children:"Your account is protected with 2FA."})]})})]}),a==="Posts"&&e.jsxs(b,{className:"p-12 flex flex-col items-center justify-center text-slate-400 min-h-[300px]",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full mb-4",children:e.jsx(ve,{className:"h-8 w-8 text-slate-300"})}),e.jsx(m.Typography,{variant:"h6",className:"font-bold text-slate-600",...i,children:"No posts yet"}),e.jsx(m.Typography,{className:"text-sm",...i,children:"Check back later for updates from the admin team."})]}),a==="Contact"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{className:"p-8",children:[e.jsx(m.Typography,{variant:"h4",className:"text-2xl font-bold text-slate-800 mb-2",...i,children:"Contact Us"}),e.jsx(m.Typography,{className:"text-slate-600 mb-6",...i,children:"We'd love to hear from you! Please fill out the form below."}),e.jsxs("form",{onSubmit:k,className:"flex flex-col gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",htmlFor:"name",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:v,required:!0,className:"w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:v,required:!0,className:"w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",htmlFor:"message",children:"Your Message"}),e.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:v,required:!0,rows:5,className:"w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all resize-none",placeholder:"Write your message here..."})]}),e.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform transition-all hover:-translate-y-0.5",children:"Send Message"})]})]}),e.jsxs(b,{className:"bg-gradient-to-br from-indigo-600 to-purple-700 p-8 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Our Information"}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(De,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white/90",children:"Email"}),e.jsx("p",{className:"text-white/80",children:"contact@example.com"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(Ve,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white/90",children:"Phone"}),e.jsx("p",{className:"text-white/80",children:"+1 (234) 567-890"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(B,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white/90",children:"Address"}),e.jsxs("p",{className:"text-white/80",children:["123 Main Street",e.jsx("br",{}),"Anytown, USA"]})]})]})]})]})]})]})]}),e.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-xl border-t border-slate-200 flex justify-around p-3 z-40 lg:hidden safe-area-bottom",children:[e.jsx(Ne,{className:"h-6 w-6 text-indigo-600"}),e.jsx(Ce,{className:"h-6 w-6 text-slate-400"}),e.jsx(Re,{className:"h-6 w-6 text-slate-400"}),e.jsx(ge,{className:"h-6 w-6 text-slate-400"})]}),e.jsx(H,{children:w&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs(E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-100",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-100",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:["Change ",f==="cover"?"Cover":"Profile"," Photo"]}),e.jsx("button",{onClick:ae,className:"p-2 rounded-full hover:bg-slate-100 text-slate-500 transition-all",children:e.jsx(ne,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("input",{className:"w-full p-3 border border-slate-300 rounded-xl mb-6 text-slate-800 focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"Enter file name (optional)",type:"text",value:y,onChange:n=>C(n.target.value)}),e.jsx(_e,{onUpload:f==="cover"?n=>g({type:"FILE_SELECTED",file:n,name:"profileImage"}):te,progress:c.context.progress,isUploading:c.matches("uploading"),error:c.context.error,nameFromInput:y,mode:f}),c.matches("success")&&e.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 p-4 bg-green-50 text-green-700 rounded-xl flex items-center border border-green-100",children:[e.jsx(Te,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-semibold text-sm",children:"Upload successful!"})]})]})]})})})]})};export{rt as default};
