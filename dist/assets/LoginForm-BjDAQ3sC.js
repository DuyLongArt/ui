import{b as o,o as y,A as w,t as l,j as e}from"./index-DyLGrSyB.js";import{m as s}from"./proxy-64l16BJs.js";import{U as j,L as N,E as k}from"./user-OVBR7bs8.js";import{E as S}from"./eye-BcwSEK6t.js";import"./createLucideIcon-hrZBMhDZ.js";const C=r=>{if(!r)return;const i=new Date;i.setDate(i.getDate()+7),document.cookie=`auth_jwt=${r}; expires=${i.toUTCString()}; path=/; Secure; SameSite=Lax`},E={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.2,staggerChildren:.1,when:"beforeChildren"}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},R=()=>{const[r,i]=o.useState(""),[m,h]=o.useState(""),[c,p]=o.useState(!1),b=y(),f=()=>{b("/login/register")},n=w.useActorRef(),g=l(n,t=>t.value),d=l(n,t=>t.context.jwt),x=l(n,t=>t.matches("authenticating")),u=l(n,t=>t.context.error),v=t=>{t.preventDefault(),x||n.send({type:"SUBMIT",username:r,password:m,token:""})};return o.useEffect(()=>{g==="onLogin"&&d&&C(d)},[g,d]),e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-600 to-purple-700 p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 w-[140%] h-[140%] -top-[20%] -left-[20%] bg-[radial-gradient(circle,rgba(255,255,255,0.15)_0%,rgba(255,255,255,0)_70%)] pointer-events-none"}),e.jsx(s.div,{variants:E,initial:"hidden",animate:"visible",className:"relative z-10 w-full max-w-md",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl p-8 sm:p-12 rounded-[2.5rem] shadow-2xl border border-white/40 text-center",children:[e.jsxs(s.div,{variants:a,children:[e.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-2 tracking-tight",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600 mb-10 text-lg",children:"Sign in to manage your account"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs(s.div,{variants:a,className:"relative group",children:[e.jsx("label",{className:"block text-left text-sm font-bold text-gray-700 mb-2 ml-1",children:"Email or Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(j,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",value:r,onChange:t=>i(t.target.value),required:!0,placeholder:"Enter email or username",className:"block w-full pl-11 pr-4 py-4 bg-white border-2 border-gray-100 rounded-2xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all text-base"})]})]}),e.jsxs(s.div,{variants:a,className:"relative group",children:[e.jsx("label",{className:"block text-left text-sm font-bold text-gray-700 mb-2 ml-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(N,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:c?"text":"password",value:m,onChange:t=>h(t.target.value),required:!0,placeholder:"••••••••",className:"block w-full pl-11 pr-12 py-4 bg-white border-2 border-gray-100 rounded-2xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all text-base"}),e.jsx("button",{type:"button",onClick:()=>p(!c),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 active:text-indigo-500 transition-colors",children:c?e.jsx(k,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})})]})]}),u&&e.jsx(s.div,{variants:a,children:e.jsx("p",{className:"text-red-500 text-sm font-semibold",children:u})}),e.jsx(s.div,{variants:a,children:e.jsx("button",{type:"submit",disabled:x,className:"w-full py-4 px-6 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-300 text-white text-lg font-black rounded-2xl shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/40 transform hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200",children:x?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})})]}),e.jsxs(s.div,{variants:a,className:"mt-8 pt-6 border-t border-gray-100/80 text-center",children:[e.jsxs("span",{className:"text-gray-500 text-sm font-medium",children:["Don't have an account?"," "]}),e.jsx("button",{type:"button",onClick:t=>{t.preventDefault(),f()},className:"text-sm font-black text-indigo-600 hover:text-indigo-700 hover:underline transition-colors",children:"Sign Up"})]})]})})]})};export{R as default};
