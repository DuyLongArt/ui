import{b as s,D as k,E,w as S,j as e}from"./index-Cf-gkL86.js";import{A as v}from"./index-CVrnXY74.js";import{m as u}from"./proxy-CT5DUpU2.js";import"./musicStore-BH8i6uZ4.js";function L({title:t,titleId:a,...r},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},r),t?s.createElement("title",{id:a},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const j=s.forwardRef(L);function C({title:t,titleId:a,...r},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},r),t?s.createElement("title",{id:a},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const R=s.forwardRef(C);function M({title:t,titleId:a,...r},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},r),t?s.createElement("title",{id:a},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const O=s.forwardRef(M);function A({title:t,titleId:a,...r},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},r),t?s.createElement("title",{id:a},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const $=s.forwardRef(A);function B({title:t,titleId:a,...r},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},r),t?s.createElement("title",{id:a},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const H=s.forwardRef(B);function W({title:t,titleId:a,...r},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},r),t?s.createElement("title",{id:a},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const F=s.forwardRef(W),I=k()(E(t=>({shortcuts:[{id:"1",title:"Widget 1",url:"/widget/1",color:"bg-indigo-600"},{id:"2",title:"Nextcloud",url:"http://192.168.3.1:6699/apps/dashboard/",color:"bg-blue-600"}],addShortcut:a=>t(r=>({shortcuts:[...r.shortcuts,{...a,id:Math.random().toString(36).substr(2,9)}]})),updateShortcut:(a,r)=>t(l=>({shortcuts:l.shortcuts.map(n=>n.id===a?{...n,...r}:n)})),removeShortcut:a=>t(r=>({shortcuts:r.shortcuts.filter(l=>l.id!==a)})),fetchShortcuts:()=>{S.get("/backend/widget/shortcut").then(a=>{t(r=>({...r,shortcuts:a.data}))})}}),{name:"shortcut-storage"})),D=({children:t})=>e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 p-4",children:t}),G=({id:t,title:a,url:r,imageUrl:l,color:n="bg-indigo-600",onRemove:m,onEdit:d})=>{const[h,c]=s.useState(!1);return e.jsxs(u.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{y:-5,boxShadow:"0px 10px 20px rgba(0,0,0,0.1)"},className:`relative rounded-2xl overflow-hidden shadow-md aspect-square flex flex-col group ${n}`,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center justify-center p-4 text-center h-full w-full",children:[l?e.jsx("img",{src:l,alt:a,className:"w-16 h-16 object-contain mb-4 filter drop-shadow-lg"}):e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4 backdrop-blur-sm",children:e.jsx(j,{className:"w-8 h-8 text-white"})}),e.jsx("span",{className:"text-white font-bold text-lg tracking-wide drop-shadow-md",children:a})]}),e.jsx(v,{children:h&&e.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 z-10",children:[e.jsx(u.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:i=>{i.preventDefault(),d({id:t,title:a,url:r,imageUrl:l,color:n})},className:"p-2 bg-white/20 text-white rounded-full hover:bg-white/30 shadow-lg backdrop-blur-sm transition-colors",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx(u.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:i=>{i.preventDefault(),m(t)},className:"p-2 bg-red-500/90 text-white rounded-full hover:bg-red-600 shadow-lg backdrop-blur-sm transition-colors",children:e.jsx(H,{className:"w-4 h-4"})})]})})]})},P=({onClick:t})=>e.jsxs(u.button,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.02,backgroundColor:"rgba(243, 244, 246, 0.8)"},whileTap:{scale:.98},onClick:t,className:"aspect-square rounded-2xl border-3 border-dashed border-slate-300 flex flex-col items-center justify-center bg-slate-50 text-slate-400 hover:text-indigo-500 hover:border-indigo-400 hover:bg-slate-100 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 group-hover:bg-indigo-100 flex items-center justify-center mb-3 transition-colors",children:e.jsx(O,{className:"w-8 h-8 text-slate-400 group-hover:text-indigo-600 transition-colors"})}),e.jsx("span",{className:"font-semibold transition-colors",children:"Add Shortcut"})]});function T(){const{shortcuts:t,addShortcut:a,updateShortcut:r,removeShortcut:l}=I(),[n,m]=s.useState(!1),[d,h]=s.useState(null),[c,i]=s.useState(""),[x,p]=s.useState(""),[f,g]=s.useState("bg-indigo-600"),w=o=>{o?(h(o.id),i(o.title),p(o.url),g(o.color||"bg-indigo-600")):(h(null),i(""),p(""),g("bg-indigo-600")),m(!0)},y=o=>{o.preventDefault(),c&&x&&(d?r(d,{title:c,url:x,color:f}):a({title:c,url:x,color:f}),b())},b=()=>{m(!1),h(null),i(""),p(""),g("bg-indigo-600")},N=[{name:"Indigo",value:"bg-indigo-600"},{name:"Blue",value:"bg-blue-600"},{name:"Purple",value:"bg-purple-600"},{name:"Pink",value:"bg-pink-600"},{name:"Green",value:"bg-emerald-600"},{name:"Orange",value:"bg-orange-600"},{name:"Red",value:"bg-rose-600"},{name:"Slate",value:"bg-slate-700"}];return e.jsxs("div",{className:"w-full",children:[e.jsx(D,{children:e.jsxs(v,{mode:"popLayout",children:[t.map(o=>e.jsx(G,{...o,onRemove:l,onEdit:w},o.id)),e.jsx(P,{onClick:()=>w()},"add-button")]})}),e.jsx(v,{children:n&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:b}),e.jsxs(u.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden z-10",children:[e.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-100 bg-slate-50/50",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:d?"Edit Shortcut":"Add New Shortcut"}),e.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-slate-200 text-slate-500 transition-colors",children:e.jsx(F,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:y,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Title"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx($,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{type:"text",value:c,onChange:o=>i(o.target.value),placeholder:"e.g. Google Drive",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all text-slate-800",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"URL"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(j,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{type:"url",value:x,onChange:o=>p(o.target.value),placeholder:"https://...",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all text-slate-800",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Card Color"}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:N.map(o=>e.jsx("button",{type:"button",onClick:()=>g(o.value),className:`h-10 rounded-lg shadow-sm transition-all ${o.value} ${f===o.value?"ring-2 ring-offset-2 ring-indigo-500 scale-105":"hover:scale-105 opacity-80 hover:opacity-100"}`,"aria-label":o.name},o.value))})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:-translate-y-0.5",children:d?"Update Shortcut":"Create Shortcut"})]})]})]})]})})]})}function V(){return e.jsx("div",{className:"bg-white min-h-screen p-8",children:e.jsx(T,{})})}export{V as default};
